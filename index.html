<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kithsiri Athulathmudali | Entrepreneur, Author, Diplomat</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!-- Font Awesome CDN for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Load required Firebase libraries for the Gemini API call -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global variables provided by the execution environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : { apiKey: "AIzaSy...", projectId: "test-project-id" }; // Fallback config
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db, auth;

        async function initializeFirebase() {
            try {
                const app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);

                // Sign in using custom token or anonymously
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }

                console.log("Firebase initialized and signed in.");

            } catch (error) {
                console.error("Firebase initialization failed:", error);
            }
        }

        // Global function for the LLM call
        async function callGemini(prompt, isSummary = false, summaryIndex = null) {
            const outputId = isSummary ? `summarize-output-text-${summaryIndex}` : 'ask-output-text';
            const audioOutputId = isSummary ? `summarize-output-audio-${summaryIndex}` : 'ask-output-audio';
            const containerId = isSummary ? `summarize-output-${summaryIndex}` : 'ask-output';

            const outputTextElement = document.getElementById(outputId);
            const outputAudioElement = document.getElementById(audioOutputId);
            const loadingIndicator = document.getElementById('loading-indicator');
            const containerElement = document.getElementById(containerId);

            // Hide previous audio and show loading state
            outputTextElement.innerText = "Generating response, please wait...";
            outputAudioElement.innerHTML = "";
            containerElement.classList.remove('hidden');
            if (!isSummary) {
                 loadingIndicator.classList.remove('hidden');
            }

            const systemPrompt = isSummary
                ? "You are an expert literary reviewer. Provide a concise, engaging summary (max 50 words) of the following book based on its title and description. Focus on key themes."
                : "You are Kithsiri Athulathmudali's personal assistant. Answer the user's question about Kithsiri Athulathmudali's life or work based on your general knowledge. Be professional, concise, and informative. If you don't know the answer, politely state that the information is not available.";

            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                tools: [{ "google_search": {} }],
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };

            try {
                let response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "Sorry, I couldn't generate a response.";

                outputTextElement.innerText = text;
                outputTextElement.classList.remove('hidden'); // Ensure text is visible
                outputAudioElement.innerHTML = `<button onclick="readAloud('${text.replace(/'/g, "\\'")}', '${audioOutputId}')" class="btn-primary mt-4 px-4 py-2 rounded-full text-sm">Read Aloud</button>`;

            } catch (error) {
                console.error("Error during Gemini API call:", error);
                outputTextElement.innerText = isSummary ? "Failed to summarize." : "Failed to get an answer.";
            } finally {
                if (!isSummary) {
                    loadingIndicator.classList.add('hidden');
                }
            }
        }

        // Global function for TTS (Text-to-Speech)
        async function readAloud(text, outputElementId) {
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;

            // Helper function to convert base64 to Int16Array
            const base64ToArrayBuffer = (base64) => {
                const binaryString = atob(base64);
                const len = binaryString.length;
                const bytes = new Uint8Array(len);
                for (let i = 0; i < len; i++) {
                    bytes[i] = binaryString.charCodeAt(i);
                }
                // API returns signed PCM16 audio data.
                return new Int16Array(bytes.buffer);
            };

            // Helper function to write WAV header string
            const writeString = (view, offset, string) => {
                for (let i = 0; i < string.length; i++) {
                    view.setUint8(offset + i, string.charCodeAt(i));
                }
            };

            // Helper function to convert PCM to WAV format
            const pcmToWav = (pcmData, sampleRate) => {
                const buffer = new ArrayBuffer(44 + pcmData.length * 2); // 44 bytes for header + data
                const view = new DataView(buffer);

                // RIFF header
                writeString(view, 0, 'RIFF');
                view.setUint32(4, 36 + pcmData.length * 2, true);
                writeString(view, 8, 'WAVE');

                // FMT chunk
                writeString(view, 12, 'fmt ');
                view.setUint32(16, 16, true); // Chunk size
                view.setUint16(20, 1, true); // Linear PCM
                view.setUint16(22, 1, true); // Mono
                view.setUint32(24, sampleRate, true);
                view.setUint32(28, sampleRate * 2, true); // Byte rate
                view.setUint16(32, 2, true); // Block align (16-bit mono = 2 bytes)
                view.setUint16(34, 16, true); // Bits per sample

                // Data chunk
                writeString(view, 36, 'data');
                view.setUint32(40, pcmData.length * 2, true);

                // Write PCM data
                let offset = 44;
                for (let i = 0; i < pcmData.length; i++) {
                    view.setInt16(offset, pcmData[i], true);
                    offset += 2;
                }

                return new Blob([buffer], { type: 'audio/wav' });
            };

            const payload = {
                contents: [{ parts: [{ text: text }] }],
                generationConfig: {
                    responseModalities: ["AUDIO"],
                    speechConfig: {
                        voiceConfig: {
                            prebuiltVoiceConfig: { voiceName: "Kore" }
                        }
                    }
                },
            };

            const outputDiv = document.getElementById(outputElementId);
            outputDiv.innerHTML = '<p class="text-secondary text-sm">Generating audio...</p>';

            try {
                let response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const result = await response.json();
                const part = result.candidates?.[0]?.content?.parts?.[0];
                const audioData = part?.inlineData?.data;
                const mimeType = part?.inlineData?.mimeType;

                if (audioData && mimeType && mimeType.startsWith("audio/L16;rate=")) {
                    const sampleRate = parseInt(mimeType.match(/rate=(\d+)/)[1], 10);
                    const pcm16 = base64ToArrayBuffer(audioData);
                    const wavBlob = pcmToWav(pcm16, sampleRate);
                    const audioUrl = URL.createObjectURL(wavBlob);

                    // Replace the button with the audio player
                    outputDiv.innerHTML = `<audio controls autoplay class="mt-2 w-full"><source src="${audioUrl}" type="audio/wav"></audio>`;
                } else {
                    outputDiv.innerHTML = '<p class="text-red-500 text-sm">Error: Audio generation failed.</p>';
                }

            } catch (error) {
                console.error("Error during TTS API call:", error);
                outputDiv.innerHTML = `<p class="text-red-500 text-sm">Failed to generate audio. Network error?</p>`;
            }
        }

        window.callGemini = (prompt, isSummary, summaryIndex) => {
            // Updated logic to ensure correct index is passed for summaries
            callGemini(prompt, isSummary, summaryIndex);
        };

        window.readAloud = readAloud;

        // Intersection Observer logic for animations
        function setupObserver() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        // Optional: stop observing after animation runs
                        // observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.scroll-animate').forEach(element => {
                observer.observe(element);
            });
        }

        // Ensure Firebase initialization and animations run when the window loads
        window.onload = () => {
            setupObserver(); // Always setup animations
            initializeFirebase(); // Try to initialize Firebase
        };
    </script>

    <!-- Custom Styles -->
    <style>
        /* Color Palette */
        :root {
            --color-black: #000000;
            --color-dark-navy: #0F172A; /* Slate 900 for card background */
            --color-royal-blue: #005A9C; /* Deeper Royal Blue */
            --color-gold: #FFD700; /* Brighter Gold */
            --color-light-gray: #e5e7eb;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-black);
            color: var(--color-light-gray);
        }
        .header-bg {
            background-color: var(--color-royal-blue);
            background-image: linear-gradient(135deg, var(--color-dark-navy) 0%, var(--color-royal-blue) 100%);
        }
        .text-primary {
            color: var(--color-gold);
        }
        .text-secondary {
            color: var(--color-royal-blue);
        }
        .card {
            background-color: var(--color-dark-navy);
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.15); /* Gold shadow effect */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(255, 215, 0, 0.3);
        }
        .btn-primary {
            background-color: var(--color-gold);
            color: var(--color-dark-navy);
            font-weight: 700;
            transition: background-color 0.2s, transform 0.1s;
        }
        .btn-primary:hover {
            background-color: #e6c200;
            transform: translateY(-1px);
        }

        /* Scroll Animation Styles */
        .scroll-animate {
            opacity: 0;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .scroll-animate.visible {
            opacity: 1;
            transform: translateY(0) translateX(0);
        }
        .slide-left {
            transform: translateX(-50px);
        }
        .slide-right {
            transform: translateX(50px);
        }
        .slide-up {
            transform: translateY(50px);
        }

        .profile-img-container {
            width: 15rem;
            height: 15rem;
            min-width: 15rem;
        }
        @media (max-width: 768px) {
            .profile-img-container {
                width: 10rem;
                height: 10rem;
                min-width: 10rem;
            }
        }
    </style>
</head>
<body>

    <div class="container mx-auto px-4 py-8 md:py-16">

        <!-- Main Header Section -->
        <header class="header-bg rounded-3xl shadow-xl overflow-hidden mb-16 relative scroll-animate slide-up">
            <div class="relative z-10 flex flex-col md:flex-row items-center p-8 md:p-16 text-center md:text-left">

                <div class="md:w-1/4 flex justify-center md:justify-start mb-8 md:mb-0">
                    <!-- Profile Image -->
                    <div class="profile-img-container rounded-full overflow-hidden border-4 border-primary shadow-2xl">
                        <img src="/images/kith.jpeg" alt="Kithsiri Athulathmudali Portrait" class="w-full h-full object-cover">
                    </div>
                </div>

                <div class="md:w-3/4 text-center md:text-left">
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold tracking-tight mb-4 leading-tight text-primary">
                        Kithsiri Athulathmudali
                    </h1>
                    <p class="text-lg md:text-xl font-light text-gray-300">
                        Entrepreneur, Author, and Diplomat
                    </p>
                    <div class="mt-4 flex flex-wrap justify-center md:justify-start space-x-4">
                        <span class="text-primary text-sm bg-gray-800 px-3 py-1 rounded-full">B.Sc. Mechanical Engineering</span>
                        <span class="text-primary text-sm bg-gray-800 px-3 py-1 rounded-full">M.B.A.</span>
                        <span class="text-primary text-sm bg-gray-800 px-3 py-1 rounded-full">Former Ambassador</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- About Section -->
        <section id="about" class="scroll-animate fade-in">
            <h2 class="text-4xl font-bold text-center mb-12 text-primary border-b-2 border-gold pb-2 mx-auto w-fit">About Me</h2>
            <div class="max-w-4xl mx-auto text-lg text-center leading-relaxed card p-8 rounded-xl">
                <p class="mb-4">
                    Kithsiri Athulathmudali, also known as Keith, is a seasoned professional with a diverse background spanning entrepreneurship, authorship, and international diplomacy. With a keen interest in aviation, he holds a pilot's license and has taken on significant leadership roles across various industries. His career, which includes extensive time in the United States and serving as the Ambassador-designate of Sri Lanka to the State of Qatar, is a testament to his dedication to service and creating long-term value.
                </p>
                <h3 class="text-xl font-bold text-gold mt-6 mb-3">Education Highlights</h3>
                <ul class="list-none space-y-2 text-gray-300">
                    <li class="flex justify-center md:justify-start items-center space-x-2 mx-auto w-fit">
                        <i class="fas fa-university text-secondary"></i>
                        <span>B.Sc. in Mechanical Engineering, Manchester University, UK</span>
                    </li>
                    <li class="flex justify-center md:justify-start items-center space-x-2 mx-auto w-fit">
                        <i class="fas fa-university text-secondary"></i>
                        <span>B.Sc. and MBA, California University, Long Beach, CA, USA</span>
                    </li>
                    <li class="flex justify-center md:justify-start items-center space-x-2 mx-auto w-fit">
                        <i class="fas fa-school text-secondary"></i>
                        <span>Alumnus of Nalanda College, Colombo</span>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="mt-20">
            <h2 class="text-4xl font-bold text-center mb-12 text-primary border-b-2 border-gold pb-2 mx-auto w-fit scroll-animate fade-in">Professional Journey</h2>
            <div class="space-y-12">
                <!-- Job 1: Ambassador -->
                <div class="card p-8 rounded-xl shadow-lg md:flex md:items-start space-x-8 scroll-animate fade-in-left">
                    <div class="flex-shrink-0">
                        <i class="fas fa-passport text-5xl text-primary"></i>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-1">Ambassador of Sri Lanka to Qatar</h3>
                        <p class="text-sm text-gray-400 mb-3">2019 - 2020</p>
                        <p class="text-gray-300 leading-relaxed">Key diplomatic role focused on strengthening **bilateral relations**, promoting **trade and investment**, and ensuring the welfare and rights of the large Sri Lankan expatriate community in Qatar.</p>
                    </div>
                </div>

                <!-- Job 2: Honeywell -->
                <div class="card p-8 rounded-xl shadow-lg md:flex md:items-start space-x-8 scroll-animate fade-in-right">
                    <div class="flex-shrink-0">
                        <i class="fas fa-cogs text-5xl text-primary"></i>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-1">Managing Director, Asia Pacific</h3>
                        <p class="text-sm text-gray-400 mb-3">Honeywell International | Singapore</p>
                        <p class="text-gray-300 leading-relaxed">Oversaw massive regional operations, notably establishing and managing a **global healthcare business unit**. Instrumental in strategic growth across 35 countries, showcasing expertise in international business development and leadership.</p>
                    </div>
                </div>

                <!-- Job 3: Entrepreneurship -->
                <div class="card p-8 rounded-xl shadow-lg md:flex md:items-start space-x-8 scroll-animate fade-in-left">
                    <div class="flex-shrink-0">
                        <i class="fas fa-lightbulb text-5xl text-primary"></i>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-white mb-1">Founder & CEO</h3>
                        <p class="text-sm text-gray-400 mb-3">Various Ventures (EggSystems, Healthcare Facilities)</p>
                        <p class="text-gray-300 leading-relaxed">Recognized as **'Entrepreneur of the Year'** (2001, Singapore). Founded a successful technology systems integration firm and established multiple highly-rated Alzheimer's compassionate care facilities in Dallas, Texas.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Authored Works Section -->
        <section id="publications" class="mt-20">
            <h2 class="text-4xl font-bold text-center mb-12 text-primary border-b-2 border-gold pb-2 mx-auto w-fit scroll-animate fade-in">Authored Works</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">

                <!-- Book 1: Simple Happiness -->
                <div class="card flex flex-col justify-between p-6 rounded-xl scroll-animate fade-in-left">
                    <div>
                        <h3 class="text-xl font-bold text-white mb-2">Simple Happiness: Smiles Beyond Possessions</h3>
                        <p class="text-sm text-gray-400 mb-4">A guide to finding true contentment by looking beyond material wealth and focusing on internal well-being and life's simple pleasures.</p>
                    </div>
                    <div>
                        <div id="summarize-output-1" class="hidden mb-4 bg-gray-800 rounded-lg p-3">
                            <p id="summarize-output-text-1" class="text-sm text-gray-200 italic"></p>
                            <div id="summarize-output-audio-1" class="mt-2"></div>
                        </div>
                        <div class="flex flex-col space-y-2">
                             <a href="https://www.amazon.com/Simple-Happiness-Smiles-Beyond-Possessions/dp/B0FR9FSWFC/" target="_blank" class="text-primary hover:text-white font-semibold text-sm">View on Amazon &rarr;</a>
                             <button onclick="callGemini('Summarize the book Simple Happiness: Smiles Beyond Possessions by Kithsiri Athulathmudali', true, 1)" class="btn-primary px-4 py-2 rounded-full text-sm">Get AI Summary</button>
                        </div>
                    </div>
                </div>

                <!-- Book 2: Profits with Purpose -->
                <div class="card p-6 rounded-xl scroll-animate fade-in-left" style="transition-delay: 0.1s;">
                    <div>
                        <h3 class="text-xl font-bold text-white mb-2">Profits with Purpose</h3>
                        <p class="text-sm text-gray-400 mb-4">Religion-Inspired Values in Business. Explores how faith and ethical values can be integrated into business leadership for sustainable success.</p>
                    </div>
                    <div>
                        <div id="summarize-output-2" class="hidden mb-4 bg-gray-800 rounded-lg p-3">
                            <p id="summarize-output-text-2" class="text-sm text-gray-200 italic"></p>
                            <div id="summarize-output-audio-2" class="mt-2"></div>
                        </div>
                        <div class="flex flex-col space-y-2">
                            <a href="https://www.amazon.com/Profits-Purpose-Religion-Inspired-Values-Business/dp/B0FKN6CJ1W/" target="_blank" class="text-primary hover:text-white font-semibold text-sm">View on Amazon &rarr;</a>
                            <button onclick="callGemini('Summarize the book Profits with Purpose: Religion-Inspired Values in Business by Kithsiri Athulathmudali', true, 2)" class="btn-primary px-4 py-2 rounded-full text-sm">Get AI Summary</button>
                        </div>
                    </div>
                </div>

                <!-- Book 3: Keepers & Seekers -->
                <div class="card p-6 rounded-xl scroll-animate fade-in-right" style="transition-delay: 0.2s;">
                    <div>
                        <h3 class="text-xl font-bold text-white mb-2">Keepers & Seekers</h3>
                        <p class="text-sm text-gray-400 mb-4">How to find a compatible partner. A practical guide to navigating modern relationships and finding a partner who shares your values and life goals.</p>
                    </div>
                    <div>
                        <div id="summarize-output-3" class="hidden mb-4 bg-gray-800 rounded-lg p-3">
                            <p id="summarize-output-text-3" class="text-sm text-gray-200 italic"></p>
                            <div id="summarize-output-audio-3" class="mt-2"></div>
                        </div>
                        <div class="flex flex-col space-y-2">
                            <a href="https://www.amazon.com/Keepers-Seekers-finding-compatible-partner/dp/B0FP9B75T4/" target="_blank" class="text-primary hover:text-white font-semibold text-sm">View on Amazon &rarr;</a>
                            <button onclick="callGemini('Summarize the book Keepers & Seekers: How to find a compatible partner by Kithsiri Athulathmudali', true, 3)" class="btn-primary px-4 py-2 rounded-full text-sm">Get AI Summary</button>
                        </div>
                    </div>
                </div>

                <!-- Book 4: Networking Edge -->
                <div class="card p-6 rounded-xl scroll-animate fade-in-right" style="transition-delay: 0.3s;">
                    <div>
                        <h3 class="text-xl font-bold text-white mb-2">Networking Edge</h3>
                        <p class="text-sm text-gray-400 mb-4">101 Lessons for sales professionals. Provides essential tips and strategies for building and maintaining professional relationships, crucial for success.</p>
                    </div>
                     <div>
                        <div id="summarize-output-4" class="hidden mb-4 bg-gray-800 rounded-lg p-3">
                            <p id="summarize-output-text-4" class="text-sm text-gray-200 italic"></p>
                            <div id="summarize-output-audio-4" class="mt-2"></div>
                        </div>
                        <div class="flex flex-col space-y-2">
                            <a href="https://www.amazon.com/Networking-Edge-101-sales-professionals/dp/B0FBKRM12S/" target="_blank" class="text-primary hover:text-white font-semibold text-sm">View on Amazon &rarr;</a>
                            <button onclick="callGemini('Summarize the book Networking Edge: 101 lessons for sales professionals by Kithsiri Athulathmudali', true, 4)" class="btn-primary px-4 py-2 rounded-full text-sm">Get AI Summary</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Media Section -->
        <section id="media" class="mt-20">
            <h2 class="text-4xl font-bold text-center mb-12 text-primary border-b-2 border-gold pb-2 mx-auto w-fit scroll-animate fade-in">Podcasts & Digital Media</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Podcast 1 -->
                <div class="card p-8 rounded-xl scroll-animate fade-in-left">
                    <div class="flex items-center mb-4">
                        <i class="fas fa-microphone-alt text-4xl text-secondary mr-4"></i>
                        <h3 class="text-2xl font-bold text-white">Employee Retention Across Enterprises</h3>
                    </div>
                    <p class="text-gray-300 text-base mb-4">
                        A podcast dedicated to exploring how organizations across the U.S. are keeping their best people in today's rapidly changing workplace. The series focuses on strengthening the bonds with employees through real-world strategies and innovative practices.
                    </p>
                </div>
                <!-- Podcast 2 & YouTube -->
                <div class="card p-8 rounded-xl scroll-animate fade-in-right">
                    <div class="flex items-center mb-4">
                        <i class="fab fa-youtube text-4xl text-secondary mr-4"></i>
                        <h3 class="text-2xl font-bold text-white">The Networking Edge (Podcast & YouTube)</h3>
                    </div>
                    <p class="text-gray-300 text-base mb-4">
                        Explore the art and science of building meaningful professional relationships based on the principles in his book. Features insights, tips, and interviews designed to help you succeed in your career.
                    </p>
                    <a href="https://www.youtube.com/@NetworkingEdge-Podcast" target="_blank" class="btn-primary inline-block px-6 py-2 rounded-full mt-4">
                        Visit YouTube Channel
                    </a>
                </div>
            </div>
        </section>


        <!-- AI Assistant Section -->
        <section id="contact" class="mt-20 scroll-animate fade-in">
            <h2 class="text-4xl font-bold text-center mb-12 text-primary border-b-2 border-gold pb-2 mx-auto w-fit">Ask Kithsiri's AI Assistant</h2>
            <div class="card max-w-3xl mx-auto p-8 rounded-xl">
                <p class="text-center text-gray-300 mb-6">Ask about Kithsiri Athulathmudali's work, experience, or philosophy.</p>
                <div class="flex flex-col space-y-4">
                    <textarea id="user-question-input" class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-primary" rows="3" placeholder="e.g., 'What was Kithsiri's role at Honeywell?' or 'What is his philosophy on business?'"></textarea>
                    <button id="ask-button" onclick="callGemini(document.getElementById('user-question-input').value, false, null)" class="btn-primary w-full p-3 rounded-lg font-semibold text-lg">
                        Submit Query
                    </button>
                </div>
                <div id="loading-indicator" class="hidden text-center mt-4">
                    <p class="text-primary animate-pulse">Thinking...</p>
                </div>
                <div id="ask-output" class="hidden mt-6 border-t border-gray-700 pt-4">
                    <p class="text-md font-semibold text-primary mb-2">Response:</p>
                    <p id="ask-output-text" class="text-gray-200 whitespace-pre-wrap leading-relaxed"></p>
                    <div id="ask-output-audio" class="mt-4 flex justify-end"></div>
                </div>
            </div>
        </section>

    </div>

    <!-- Footer -->
    <footer class="mt-24 pb-12 text-center text-gray-500">
        <p>&copy; 2024 Kithsiri Athulathmudali. All rights reserved.</p>
    </footer>

</body>
</html>